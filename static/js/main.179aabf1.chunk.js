(this["webpackJsonpgoit-practice-react-rest-api"]=this["webpackJsonpgoit-practice-react-rest-api"]||[]).push([[0],{12:function(t,e,n){},27:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),a=n(9),c=n.n(a),i=n(3),s=n(4),l=n(6),u=n(5),d=n(8),h=n(21),f=n.n(h),j=n(11),b=n(22),p=(n(27),n(0)),g=function(t){var e=t.children,n=t.onClick,o=Object(b.a)(t,["children","onClick"]);return Object(p.jsx)("button",Object(j.a)(Object(j.a)({type:"button",className:"IconButton",onClick:n},o),{},{children:e}))};g.defaultProps={onClick:function(){return null},children:null};var O=g;function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function v(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},a=Object.keys(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var y=o.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),x=o.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"});function C(t,e){var n=t.title,r=t.titleId,a=v(t,["title","titleId"]);return o.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",ref:e,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,y,x)}var w=o.forwardRef(C),S=(n.p,n(12),function(t){var e=t.todos,n=t.onDeleteTodo,o=t.onToggleCompleted;return Object(p.jsx)("ul",{className:"TodoList",children:e.map((function(t){var e=t.id,r=t.text,a=t.completed;return Object(p.jsxs)("li",{className:f()("TodoList__item",{"TodoList__item--completed":a}),children:[Object(p.jsx)("input",{type:"checkbox",className:"TodoList__checkbox",checked:a,onChange:function(){return o(e)}}),Object(p.jsx)("p",{className:"TodoList__text",children:r}),Object(p.jsx)(O,{onClick:function(){n(e)},"aria-label":"Delete",children:Object(p.jsx)(w,{width:"25",height:"25",fill:"#fff"})}),Object(p.jsx)("button",{type:"button",className:"TodoList__btn",onClick:function(){n(e)},children:"Delete"})]},e)}))})}),k=(n(29),function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(i.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={message:""},t.handleChange=function(e){t.setState({message:e.currentTarget.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.message),t.setState({message:""})},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("form",{className:"TodoEditor",onSubmit:this.handleSubmit,children:[Object(p.jsx)("textarea",{value:this.state.message,onChange:this.handleChange,className:"TodoEditor__textarea"}),Object(p.jsx)("button",{type:"submit",className:"TodoEditor__button",children:"Add"})]})}}]),n}(o.Component)),T=(n(30),function(t){var e=t.value,n=t.onChange;return Object(p.jsxs)("label",{className:"Filter",children:["\u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u0438\u043c\u0435\u043d\u0438",Object(p.jsx)("input",{type:"text",value:e,onChange:n})]})}),_=(n(31),document.querySelector("#modal-root")),L=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(i.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).handleKeyDown=function(e){"Escape"===e.code&&t.props.onClose()},t.handleBackdropClick=function(e){e.currentTarget===e.target&&t.props.onClose()},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(a.createPortal)(Object(p.jsx)("div",{className:"Modal__backdrop",onClick:this.handleBackdropClick,children:Object(p.jsx)("div",{className:"Modal__content",children:this.props.children})}),_)}}]),n}(o.Component),M=n(7),N=n.n(M);N.a.defaults.baseURL="http://localhost:3000";var A=function(){return N.a.get("/todos").then((function(t){return t.data}))},D=function(t){return N.a.post("/todos",t).then((function(t){return t.data}))},P=function(t){return N.a.delete("todos/".concat(t))},E=function(t,e){return N.a.patch("/todos/".concat(t),e).then((function(t){return t.data}))},Q=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(i.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={todos:[],filter:"",showModal:!1},t.addTodo=function(e){D({text:e,completed:!1}).then((function(e){t.setState((function(t){var n=t.todos;return{todos:[].concat(Object(d.a)(n),[e])}}))}))},t.deleteTodo=function(e){P(e).then((function(){t.setState((function(t){return{todos:t.todos.filter((function(t){return t.id!==e}))}}))}))},t.toggleCompleted=function(e){var n=t.state.todos.find((function(t){return t.id===e})).completed;E(e,{completed:!n}).then((function(e){t.setState((function(t){return{todos:t.todos.map((function(t){return t.id===e.id?e:t}))}}))}))},t.changeFilter=function(e){t.setState({filter:e.currentTarget.value})},t.getFilteredTodos=function(){var e=t.state.filter.toLowerCase();return t.state.todos.filter((function(t){return t.text.toLowerCase().includes(e)}))},t.formSubmitHandler=function(t){console.log(t)},t.toggleModal=function(){t.setState((function(t){return{showModal:!t.showModal}}))},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;A().then((function(e){return t.setState({todos:e})})).catch((function(t){console.log(t)}))}},{key:"componentDidUpdate",value:function(t,e){this.state.todos!==e.todos&&localStorage.setItem("todos",JSON.stringify(this.state.todos))}},{key:"render",value:function(){var t=this.state.todos,e=t.reduce((function(t,e){return e.completed?t+1:t}),0),n=this.getFilteredTodos();return Object(p.jsxs)("div",{children:[Object(p.jsx)(k,{onSubmit:this.addTodo}),Object(p.jsx)(T,{value:this.state.filter,onChange:this.changeFilter}),Object(p.jsxs)("div",{className:"TodoList",children:[Object(p.jsx)("h2",{children:"TodoList"}),Object(p.jsxs)("p",{children:["Total todos: ",t.length]}),Object(p.jsxs)("p",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445: ",e]})]}),Object(p.jsx)(S,{todos:n,onDeleteTodo:this.deleteTodo,onToggleCompleted:this.toggleCompleted}),Object(p.jsx)("button",{type:"button",className:"ModalBtn",onClick:this.toggleModal,children:"Open modal window"}),this.state.showModal&&Object(p.jsxs)(L,{onClose:this.toggleModal,children:[Object(p.jsx)("h1",{children:"Modal"}),Object(p.jsx)("button",{type:"button",onClick:this.toggleModal,children:"Close Modal window"})]})]})}}]),n}(o.Component),B=(n(50),function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(i.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={query:""},t.handleChange=function(e){t.setState({query:e.currentTarget.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.query),t.setState({query:""})},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsx)("form",{onSubmit:this.handleSubmit,className:"Articles__search__form",children:Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"text",value:this.state.query,onChange:this.handleChange}),Object(p.jsx)("button",{type:"submit",children:"Search"})]})})}}]),n}(o.Component));N.a.defaults.headers.common.Authorization="Bearer 4330ebfabc654a6992c2aa792f3173a3";var q=function(t){var e=t.searchQuery,n=void 0===e?"":e,o=t.currentPage,r=void 0===o?1:o,a=t.pageSize,c=void 0===a?5:a;return N.a.get("https://newsapi.org/v2/everything?q=".concat(n,"&pageSize=").concat(c,"&page=").concat(r)).then((function(t){return t.data.articles}))},z=(n(51),function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(i.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={articles:[],currentPage:1,searchQuery:"",isLoading:!1,error:null},t.onChangeQuery=function(e){t.setState({searchQuery:e,currentPage:1,articles:[],error:null})},t.fetchArticles=function(){var e=t.state,n={searchQuery:e.searchQuery,currentPage:e.currentPage};t.setState({isLoading:!0}),q(n).then((function(e){t.setState((function(t){return{articles:[].concat(Object(d.a)(t.articles),Object(d.a)(e)),currentPage:t.currentPage+1}}))})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({isLoading:!1})}))},t}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(t,e){e.searchQuery!==this.state.searchQuery&&this.fetchArticles()}},{key:"render",value:function(){var t=this.state,e=t.articles,n=t.isLoading,o=t.error,r=e.length>0&&!n;return Object(p.jsxs)("div",{className:"Articles",children:[Object(p.jsx)("h1",{className:"Articles__title",children:"Articles"}),Object(p.jsx)(B,{onSubmit:this.onChangeQuery}),Object(p.jsx)("ul",{children:e.map((function(t){return Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:t.url,children:t.title})},t.title)}))}),n&&Object(p.jsx)("h2",{children:"Loading..."}),r&&Object(p.jsx)("button",{type:"button",className:"LoadMoreBtn",onClick:this.fetchArticles,children:"Load more"}),o&&Object(p.jsx)("h2",{children:"Something get wrong! Please, try again!"})]})}}]),n}(o.Component)),I=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(z,{}),Object(p.jsx)(Q,{})]})}}]),n}(o.Component);n(52),n(53);c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(I,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.179aabf1.chunk.js.map